{% extends 'base.html' %}
{% block content %}
  <h1>Forgot Password</h1>
  <p>Enter your registered email. We'll send a 6-digit OTP to reset your password.</p>
  {% if msg %}
    <p style="color: green;">{{ msg }}</p>
  {% endif %}
  {% if err %}
    <p style="color: red;">{{ err }}</p>
  {% endif %}
  <form method="POST" action="{{ url_for('forgot_password') }}" onsubmit="trimFormInputs()">
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    <label for="captcha">CAPTCHA: {{ captcha_q }} = </label>
    <input type="text" id="captcha" name="captcha" required>
    <button type="submit">Send OTP</button>
  </form>
  {% block scripts %}
    <script>
      function trimFormInputs() {
        document.querySelectorAll('input').forEach(input => {
          input.value = input.value.trim();
        });
      }
    </script>
  {% endblock %}
{% endblock %}
