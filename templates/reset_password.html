{% extends 'base.html' %}
{% block content %}
<div class="card" style="max-width:560px;margin:auto">
  <h1>Reset Password</h1>
  <p class="small">We sent an OTP to <b>{{ email }}</b>. Enter it below and choose a new password.</p>
  {% if msg %}<div class="alert">{{ msg }}</div>{% endif %}
  {% if err %}<div class="alert err">{{ err }}</div>{% endif %}
  <form action="/reset_password" method="post">
    <input type="hidden" name="email" value="{{ email }}">
    
    <label>OTP Code</label>
    <input name="otp" required pattern="\d{6}" placeholder="6-digit code">
    
    <label>New Password</label>
    <input name="password" type="password" required>
    
    <label>Confirm Password</label>
    <input name="confirm" type="password" required>
    
    <button class="btn" type="submit">Reset Password</button>
    <a class="btn secondary" href="/resend_otp?email={{ email }}" style="margin-left:8px">Resend OTP</a>
  </form>
  
  <div style="margin-top: 20px; text-align: center;">
    <a href="/login">Back to Login</a>
  </div>
</div>
{% endblock %}
